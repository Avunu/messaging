/* Copyright (c) 2025, Avunu LLC */
/* License: MIT. See LICENSE */

/**
 * Chat View Styles
 * Styles for the vue-advanced-chat based messaging interface
 */

/* Container adjustments for Frappe desk */
.chat-container {
  margin: -20px;
  padding: 0;
}

/* Frappe page adjustments */
.page-container[data-page-container="true"] .chat-container {
  margin: 0;
  height: calc(100vh - 60px);
}

/* vue-advanced-chat overrides */
.vac-rooms-container {
  border-right: 1px solid var(--border-color) !important;
}

.vac-room-item {
  transition: background-color 0.15s ease !important;
}

.vac-room-item:hover {
  background-color: var(--bg-light-gray) !important;
}

.vac-room-selected {
  background-color: var(--bg-blue) !important;
}

/* Message bubbles */
.vac-message-box {
  max-width: 75% !important;
}

.vac-message-current {
  background: var(--primary) !important;
  color: white !important;
}

.vac-message-current .vac-text-timestamp {
  color: rgba(255, 255, 255, 0.8) !important;
}

/* Input area */
.vac-room-footer {
  padding: 12px 16px !important;
}

.vac-textarea {
  font-family: var(--font-stack) !important;
}

/* Icons */
.vac-svg-button {
  transition: transform 0.15s ease, color 0.15s ease !important;
}

.vac-svg-button:hover {
  transform: scale(1.1);
}

/* Search */
.vac-rooms-search input {
  font-family: var(--font-stack) !important;
}

/* Medium badges */
.room-medium,
.room-item-medium {
  font-size: 10px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-weight: 600;
}

/* Status indicators */
.online-indicator {
  box-shadow: 0 0 0 2px var(--card-bg);
}

/* Dark mode support */
[data-theme-mode="dark"] .chat-container {
  --card-bg: #1e1e1e;
  --border-color: #333;
  --text-color: #fff;
  --text-muted: #9e9e9e;
}

[data-theme-mode="dark"] .vac-rooms-container {
  background: #1e1e1e !important;
}

[data-theme-mode="dark"] .vac-container-scroll {
  background: #121212 !important;
}

[data-theme-mode="dark"] .vac-room-item:hover {
  background-color: #2d2d2d !important;
}

[data-theme-mode="dark"] .vac-room-selected {
  background-color: #0d47a1 !important;
}

/* File attachments */
.vac-file-container {
  border-radius: 8px !important;
  overflow: hidden !important;
}

.vac-file-message {
  padding: 10px !important;
  background: rgba(0, 0, 0, 0.05) !important;
  border-radius: 6px !important;
}

[data-theme-mode="dark"] .vac-file-message {
  background: rgba(255, 255, 255, 0.1) !important;
}

/* Reply messages */
.vac-reply-container {
  border-left: 3px solid var(--primary) !important;
  padding-left: 10px !important;
  margin-bottom: 8px !important;
}

/* Typing indicator */
.vac-room-typing {
  font-style: italic !important;
  color: var(--primary) !important;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .chat-container {
    margin: -15px;
  }

  .vac-message-box {
    max-width: 90% !important;
  }

  .comm-panel {
    width: 100% !important;
  }
}

/* Animations */
@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.vac-message-wrapper {
  animation: fadeIn 0.2s ease-out;
}

/* Scrollbar styling */
.vac-container-scroll::-webkit-scrollbar {
  width: 6px;
}

.vac-container-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.vac-container-scroll::-webkit-scrollbar-thumb {
  background: var(--scroll-thumb-color, #c1c1c1);
  border-radius: 3px;
}

.vac-container-scroll::-webkit-scrollbar-thumb:hover {
  background: var(--scroll-thumb-hover, #a8a8a8);
}

[data-theme-mode="dark"] .vac-container-scroll::-webkit-scrollbar-thumb {
  background: #555;
}

[data-theme-mode="dark"] .vac-container-scroll::-webkit-scrollbar-thumb:hover {
  background: #666;
}

/* Reference links */
.reference-link {
  color: var(--primary);
  text-decoration: none;
  font-size: 12px;
  display: inline-flex;
  align-items: center;
  gap: 4px;
}

.reference-link::before {
  content: "ðŸ”—";
  font-size: 10px;
}

.reference-link:hover {
  text-decoration: underline;
}

/* Empty states */
.vac-room-empty,
.vac-text-started {
  text-align: center;
  padding: 40px 20px;
  color: var(--text-muted);
}

/* Communication panel transitions */
.comm-panel-overlay {
  animation: fadeIn 0.2s ease-out;
}

.comm-panel {
  animation: slideIn 0.3s ease-out;
}

@keyframes slideIn {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

/* Print styles */
@media print {
  .chat-toolbar,
  .vac-room-footer,
  .vac-rooms-container {
    display: none !important;
  }

  .chat-container {
    height: auto !important;
  }

  .vac-container-scroll {
    overflow: visible !important;
    height: auto !important;
  }
}
